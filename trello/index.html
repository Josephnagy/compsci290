<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <!-- always put your name in your work -->
    <meta name="author" content="Joseph Nagy">
    <!-- always label your name with a title -->
    <title>Trello Project </title>
    <!-- scale page to fit entire screen, so it properly fills non-desktop devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- DEV-only for easier refreshing: stop the web browser from ever caching this page or its images -->
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <script src="https://unpkg.com/vue@latest/dist/vue.js"></script>
    <!-- Link the stylesheet -->
    <link rel="stylesheet" href="style.css">
    <!-- interaction for this page, defer loading until after page to allow access to DOM elements -->
    <script defer src="example_data.js"></script>
    <script defer src="main.js"></script>
</head>

<body>
    <div id="app">
        <!-- Page Header -->
        <header>
            <h1>{{project.name}}</h1>
            <h3>{{project.boardDescription}}</h3>
            <input 
                type="text"
                placeholder="Search Trello Board"
                v-model="searchText"
                > 
        </header>
        <div 
            class="container" 
            :style="{ backgroundImage: 'url(data/background-images/' + project.backgroundImage + ')' }"
        >
            <main>
                <div class="columns">
                    <!-- LIST OF TASK LISTS -->
                    <ul>
                        <!-- INDIVIDUAL TASK LIST -->
                        <li v-for="(taskList, i) in project.taskLists" :key="i">
                            <span class="title" >LIST NAME: {{taskList.listName}}</span>
                            <!-- LIST OF CARDS -->
                            <ul
                                v-if="taskList.cards.length > 0"
                            >
                                <li 
                                    class="taskList-item" 
                                    v-for="(card, j) in taskList.cards" 
                                    :key="j"
                                    :style="{backgroundColor: card.backgroundColor}"
                                >
                                    <p>CARD NAME: {{card.name}}</p>
                                    <!-- CARD DETAILS -->
                                    <ul class="cardContent">
                                        <li>{{card.comments.length}} Comment(s)</li>
                                        <ul>
                                            <li v-for="(comment, t) in card.comments" :key="c">
                                                <span>{{displayDate(comment.timestamp)}}</span>
                                                <span>{{comment.description}}</span>
                                            </li>
                                        </ul>
                                        <li>DESCRIPTION: {{card.description}}</li>
                                        <li>DEADLINE: <span :class="getDeadlineClass(card.deadline)">{{displayDate(card.deadline)}}</span></li> 
                                        <li>PRIORITY LEVEL: {{displayPriority(card.priority)}}</li>
                                        <li>{{card.tags.length}} Tag(s)
                                            <ul>
                                                <li v-for="(tag, t) in card.tags" :key="t">
                                                    <span class="tag" :style="{backgroundColor: tag.color}">{{tag.name}}</span>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                            <ul v-else>
                                <li class="taskList-item" > {{taskList.name}} HAS NO CARDS</li>  
                            </ul>
                        </li>
                    </ul>
                </div>
            </main>
        </div>
    </div>
</body>
<footer>
    <p> Background image credit: <a href="www.pexels.com">Pexels</a></p>
</footer>

</html>