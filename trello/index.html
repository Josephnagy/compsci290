<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <!-- always put your name in your work -->
    <meta name="author" content="Joseph Nagy">
    <!-- always label your name with a title -->
    <title>Trello Project </title>
    <!-- scale page to fit entire screen, so it properly fills non-desktop devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- DEV-only for easier refreshing: stop the web browser from ever caching this page or its images -->
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <!-- load required Bootstrap and BootstrapVue CSS -->
    <link rel="stylesheet" href="https://unpkg.com/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.css" />
    <!-- load Vue followed by BootstrapVue -->
    <script src="https://unpkg.com/vue@latest/dist/vue.js"></script>
    <script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.js"></script>
    <!-- load the following for BootstrapVueIcons support -->
    <script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue-icons.js"></script>
    <!-- Link the stylesheet -->
    <link rel="stylesheet" href="style.css">
    <!-- interaction for this page, defer loading until after page to allow access to DOM elements -->
    <script defer src="example_data.js"></script>
    <script defer src="main.js"></script>
    <script defer src="classes.js"></script>
    <!-- data supporting this page -->
    <script src="data/files/DataStore.js"></script>
    <!-- components supporting this page -->
    <script src="components/EditableText.js"></script>
    <script src="components/TaskList.js"></script>
</head>

<body>
    <div id="app">
        <!-- Page Header -->
        <header :style="{backgroundColor: currentProject.color}">
            <!-- general project info -->
            <h1>{{currentProject.name}}</h1>
            <h3>{{currentProject.boardDescription}}</h3>
            <!-- search bar  -->
            <input type="text" placeholder="Search Trello Board" v-model="searchText">

            <!-- NOTE: WILL HAVE TO CHANGE v-b-modal, :id after mutliple projects implemented (later)-->
            <!-- modal button -->
            <b-button 
                v-b-modal="'projectModal'+currentProject.name" 
                variant="dark" 
                block>Edit Project</b-button>

            <!-- edit project modal  -->
            <b-modal 
                :id="'projectModal'+currentProject.name" 
                :title="currentProject.name" 
                ok-only 
                ok-title="Close"
            > 
                <!-- actual project modal content -->

                <!-- edit title -->
                <label><b>Project Title</b></label>
                <input v-model="currentProject.name" style="width: 100%" type="text"></input>
                <hr />

                <!-- edit description -->
                <label><b>Project Description</b></label>
                <textarea v-model="currentProject.boardDescription" style="width: 100%" type="text"></textarea>
                <hr />

                <!-- edit board color -->
                <label><b>Project Description</b></label>
                <input v-model="currentProject.color" style="width: 100%" type="color"></input>
                <hr />

                <!-- edit backgroundImage  -->
                <label><b>Background Image</b></label>
                <select name="backgroundImage" id="'backgroundImage'+currentProject.name" v-model="currentProject.backgroundImage">
                    <option v-for="(image, i) in backgroundImages" :value="image">{{image}}</option>
                </select>
                <hr />

            </b-modal>

            <!-- create taskList modal button -->
            <b-button 
                v-b-modal="'newTaskList'+currentProject.name" 
                variant="info" 
                block>New List</b-button>
            
            <!-- create taskList project modal  -->
            <b-modal 
                :id="'newTaskList'+currentProject.name" 
                :title="newTaskList.name" 
                ok-only 
                ok-title="Create List"
                @ok="createTaskList()"
            >
                <!-- actual edit taskList modal -->

                <!-- taskList title  -->
                <label><b>List Title</b></label>
                <input v-model="newTaskList.name" style="width: 100%" type="text" placeholder="List Name"></input>
                <hr />

                <!-- taskList color  -->
                <label><b>List Color</b></label>
                <input v-model="newTaskList.color" style="width: 100%" type="color"></input>
                <hr />

                <!-- taskList ordering -->
                <label><b>Card Ordering</b></label>
                <select name="cardOrder" id="'newCardOrder'+t" v-model="newTaskList.cardOrderStyle">
                    <option value="alphabetical">Order alphabetically</option>
                    <option value="priority">Order by card priority</option>
                    <option value="deadline">Order by card deadline</option>
                </select>
                

            </b-modal>


        </header>
        <div class="container"
            :style="{ backgroundImage: 'url(data/background-images/' + currentProject.backgroundImage + ')' }">
            <main>
                <!-- Board Container -->
                <b-container>
                    <!-- single row of taskLists -->
                    <b-row 
                        :cols="taskLists.length"
                    >
                    <task-list
                        v-for="(taskList, t) in taskLists"
                        :key="t"
                        :task-list="taskList"
                        :task-list-id="t"
                    > 


                    </task-list>    


                    </b-row>
                </b-container>
            </main>
        </div>
    </div>
</body>





<footer>
    <p> Background image credit: <a href="www.pexels.com">Pexels</a></p>
</footer>

</html>