<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <!-- always put your name in your work -->
    <meta name="author" content="Joseph Nagy">
    <!-- always label your name with a title -->
    <title>Trello Project </title>
    <!-- scale page to fit entire screen, so it properly fills non-desktop devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- DEV-only for easier refreshing: stop the web browser from ever caching this page or its images -->
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <!-- load required Bootstrap and BootstrapVue CSS -->
    <link rel="stylesheet" href="https://unpkg.com/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.css" />
    <!-- load Vue followed by BootstrapVue -->
    <script src="https://unpkg.com/vue@latest/dist/vue.js"></script>
    <script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.js"></script>
    <!-- load the following for BootstrapVueIcons support -->
    <script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue-icons.js"></script>
    <!-- load searching component -->
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@latest/dist/fuse.js"></script>
    <script src="https://www2.cs.duke.edu/courses/compsci290/spring21/resources/code/components/VueFuse.js"></script>
    <!-- load draggble component -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vuedraggable@latest/dist/vuedraggable.umd.js"></script>
    <!-- Link the stylesheet -->
    <link rel="stylesheet" href="style.css">
    <!-- data supporting this page -->
    <script src="data/files/example_data.js"></script>
    <script src="data/files/DataStore.js"></script>
    <!-- components supporting this page -->
    <script src="components/EditableText.js"></script>
    <script src="components/TaskList.js"></script>
    <script src="components/TaskListCard.js"></script>
    <script src="components/EditCardModal.js"></script>
    <script src="components/EditTaskListModal.js"></script>
    <script src="components/EditProjectModal.js"></script>
    <!-- interaction for this page, defer loading until after page to allow access to DOM elements -->
    <script defer src="main.js"></script>
    <script defer src="classes.js"></script>
</head>

<body>
    <div id="app">
        <!-- Page Header -->
        <header>
            <!-- general project info -->
            <h1>{{allData.data.currentProject.name}}</h1>
            <!-- Edit Board -->

            <!-- modal button -->
            <b-button v-b-modal="'projectModal'+allData.data.currentProject.name" variant="dark" block>Edit Project</b-button>

            <!-- actual modal to edit board  -->
            <b-modal :id="'projectModal'+allData.data.currentProject.name" :title="allData.data.currentProject.name" :hide-footer="true">
                <edit-project-modal :project="allData.data.currentProject"> </edit-project-modal>
            </b-modal>
        </header>
        <div >
            <main>
                <!-- Board Container -->
                <b-container>
                    <!-- single row of taskLists -->
                    <b-row 
                        :cols="allData.data.currentProject.taskLists.length"
                    >
                        <task-list
                            v-for="(taskList, t) in allData.data.currentProject.taskLists"
                            :key="t"
                            :task-list="taskList"
                            :task-list-id="t"
                        > 
                        </task-list>    
                    </b-row>
                </b-container>
            </main>
        </div>
    </div>
</body>

<footer>
    <p> Background image credit: <a href="www.pexels.com">Pexels</a></p>
</footer>

</html>